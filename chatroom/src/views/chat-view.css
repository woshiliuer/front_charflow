.chat-app { display: flex; height: 100vh; overflow: hidden; background: var(--c-bg-soft); }
.nav-rail { width: 56px; display: flex; flex-direction: column; align-items: center; padding: 12px 0; gap: 2px; background: var(--c-surface); border-right: 1px solid var(--c-border); flex-shrink: 0; }
.nav-avatar { width: 36px; height: 36px; border-radius: 10px; overflow: hidden; cursor: pointer; margin-bottom: 12px; border: 2px solid var(--c-border); transition: border-color 0.2s; }
.nav-avatar:hover { border-color: var(--c-accent); }
.nav-avatar img { width: 100%; height: 100%; object-fit: cover; }
.avatar-letter { display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; background: var(--c-accent); color: #fff; font-weight: 700; font-size: 14px; }
.avatar-letter.lg { font-size: 20px; }
.avatar-letter.sm { font-size: 11px; }
.nav-items { display: flex; flex-direction: column; gap: 2px; flex: 1; }
.nav-btn { position: relative; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border: none; border-radius: 8px; background: transparent; color: var(--c-text-3); cursor: pointer; transition: all 0.15s; }
.nav-btn:hover { background: var(--c-surface-hover); color: var(--c-text-2); }
.nav-btn.active { background: var(--c-accent-soft); color: var(--c-accent); }
.nav-btn svg { width: 20px; height: 20px; }
.nav-badge { position: absolute; top: 2px; right: 2px; min-width: 16px; height: 16px; padding: 0 4px; border-radius: 8px; background: var(--c-danger); color: #fff; font-size: 10px; font-weight: 700; display: flex; align-items: center; justify-content: center; }
.nav-btn.logout { margin-top: auto; }
.nav-btn.logout:hover { color: var(--c-danger); background: var(--c-danger-soft); }
.overlay-clear { position: fixed; inset: 0; z-index: 900; }
.user-popover { position: fixed; top: 12px; left: 64px; background: var(--c-surface); border: 1px solid var(--c-border); border-radius: var(--c-radius); padding: 14px; min-width: 200px; box-shadow: var(--c-shadow-lg); z-index: 901; }
.pop-header { display: flex; gap: 10px; align-items: center; margin-bottom: 10px; }
.pop-avatar { width: 40px; height: 40px; border-radius: 10px; overflow: hidden; flex-shrink: 0; }
.pop-avatar img { width: 100%; height: 100%; object-fit: cover; }
.pop-name { font-weight: 600; font-size: 14px; }
.pop-email { font-size: 12px; color: var(--c-text-3); }
.pop-actions { display: flex; flex-direction: column; gap: 2px; border-top: 1px solid var(--c-border); padding-top: 8px; }
.pop-actions button { width: 100%; padding: 7px 8px; border: none; border-radius: var(--c-radius-sm); background: transparent; color: var(--c-text-2); font-size: 13px; cursor: pointer; text-align: left; }
.pop-actions button:hover { background: var(--c-surface-hover); }
.pop-actions button.danger { color: var(--c-danger); }
.pop-actions button.danger:hover { background: var(--c-danger-soft); }
.sidebar { position: relative; display: flex; flex-direction: column; border-right: 1px solid var(--c-border); background: var(--c-surface); flex-shrink: 0; overflow: hidden; }
.sidebar-header { display: flex; align-items: center; justify-content: space-between; padding: 16px 14px 8px; flex-shrink: 0; }
.sidebar-header h2 { font-size: 16px; font-weight: 700; margin: 0; }
.sidebar-tools { display: flex; gap: 4px; }
.tool-btn { width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; border: none; border-radius: 6px; background: var(--c-bg-mute); color: var(--c-text-3); cursor: pointer; transition: all 0.15s; }
.tool-btn:hover { background: var(--c-accent-soft); color: var(--c-accent); }
.tool-btn svg { width: 16px; height: 16px; }
.sidebar-search { padding: 0 14px 8px; }
.sidebar-search input { width: 100%; padding: 7px 12px; border-radius: var(--c-radius-sm); border: 1px solid var(--c-border); background: var(--c-bg-soft); color: var(--c-text); font-size: 13px; outline: none; }
.sidebar-search input:focus { border-color: var(--c-accent); }
.sidebar-list { flex: 1; overflow-y: auto; padding: 0 6px 6px; }
.list-item { display: flex; gap: 10px; align-items: center; padding: 8px 10px; border-radius: var(--c-radius-sm); cursor: pointer; transition: background 0.12s; margin-bottom: 1px; }
.list-item:hover { background: var(--c-surface-hover); }
.list-item.active { background: var(--c-accent-soft); }
.item-avatar { position: relative; width: 40px; height: 40px; border-radius: 10px; overflow: hidden; flex-shrink: 0; }
.item-avatar.sm { width: 34px; height: 34px; border-radius: 8px; }
.item-avatar img { width: 100%; height: 100%; object-fit: cover; }
.badge { position: absolute; top: -3px; right: -3px; min-width: 16px; height: 16px; padding: 0 4px; border-radius: 8px; background: var(--c-danger); color: #fff; font-size: 10px; font-weight: 700; display: flex; align-items: center; justify-content: center; }
.dot { position: absolute; bottom: 0; right: 0; width: 9px; height: 9px; border-radius: 50%; border: 2px solid var(--c-surface); background: var(--c-text-4); }
.dot.online { background: var(--c-success); }
.item-body { flex: 1; min-width: 0; display: flex; flex-direction: column; gap: 1px; }
.item-top { display: flex; align-items: baseline; gap: 6px; }
.item-name { font-size: 13px; font-weight: 600; color: var(--c-text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.item-time { font-size: 11px; color: var(--c-text-4); margin-left: auto; flex-shrink: 0; }
.item-sub { font-size: 12px; color: var(--c-text-3); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.tag { font-size: 10px; font-weight: 600; padding: 1px 5px; border-radius: 4px; background: var(--c-accent-soft); color: var(--c-accent); flex-shrink: 0; }
.section-label { font-size: 11px; font-weight: 600; color: var(--c-text-4); text-transform: uppercase; letter-spacing: 0.3px; padding: 6px 10px 3px; }
.empty-hint { text-align: center; padding: 32px 0; font-size: 13px; color: var(--c-text-4); }
.loading-hint { text-align: center; padding: 32px 0; font-size: 13px; color: var(--c-text-4); }
.req-item { display: flex; justify-content: space-between; align-items: center; padding: 6px 10px; border-radius: var(--c-radius-sm); background: var(--c-bg-soft); margin: 2px 6px; }
.req-info { display: flex; flex-direction: column; gap: 1px; }
.req-info strong { font-size: 13px; }
.req-info span { font-size: 11px; color: var(--c-text-3); }
.req-btns { display: flex; gap: 4px; }
.btn-xs { padding: 3px 10px; border: 1px solid var(--c-border); border-radius: 4px; font-size: 12px; font-weight: 500; cursor: pointer; background: var(--c-bg); color: var(--c-text-2); }
.btn-xs.accent { background: var(--c-accent); color: #fff; border-color: var(--c-accent); }
.btn-xs.danger { background: var(--c-danger-soft); color: var(--c-danger); border-color: transparent; }
.btn-link { border: none; background: none; font-size: 12px; cursor: pointer; color: var(--c-accent); padding: 0; }
.btn-link.danger { color: var(--c-danger); }
.feed-list { padding: 0 8px 8px; }
.feed-card { background: var(--c-bg); border: 1px solid var(--c-border-light); border-radius: var(--c-radius); padding: 12px; margin-bottom: 8px; transition: border-color 0.15s; }
.feed-card.active { border-color: var(--c-accent); background: var(--c-accent-soft); }
.feed-header { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
.feed-avatar { width: 32px; height: 32px; border-radius: 8px; object-fit: cover; }
.feed-header strong { font-size: 13px; }
.feed-time { font-size: 11px; color: var(--c-text-4); display: block; }
.feed-content { font-size: 14px; line-height: 1.6; margin-bottom: 8px; }
.feed-images { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 8px; }
.feed-img { width: 80px; height: 80px; object-fit: cover; border-radius: 6px; }
.feed-actions { display: flex; gap: 12px; }
.feed-actions button { border: none; background: none; font-size: 13px; cursor: pointer; color: var(--c-text-3); padding: 2px 0; }
.feed-actions button.liked { color: var(--c-danger); }
.feed-comments { margin-top: 8px; border-top: 1px solid var(--c-border-light); padding-top: 8px; }
.comment-item { font-size: 13px; margin-bottom: 4px; }
.comment-input { display: flex; gap: 6px; margin-top: 6px; }
.comment-input input { flex: 1; padding: 5px 10px; border: 1px solid var(--c-border); border-radius: var(--c-radius-sm); font-size: 13px; outline: none; }
.fav-item { padding: 10px; border-bottom: 1px solid var(--c-border-light); }
.fav-content { font-size: 14px; margin-bottom: 4px; }
.fav-meta { display: flex; justify-content: space-between; font-size: 12px; color: var(--c-text-4); }
.emoji-grid { display: flex; flex-wrap: wrap; gap: 4px; padding: 8px; }
.emoji-cell { position: relative; width: 44px; height: 44px; display: flex; align-items: center; justify-content: center; border-radius: 6px; cursor: default; font-size: 20px; }
.emoji-cell img { width: 32px; height: 32px; object-fit: contain; }
.emoji-cell:hover .emoji-del { opacity: 1; }
.emoji-del { position: absolute; top: -2px; right: -2px; width: 16px; height: 16px; border-radius: 50%; background: var(--c-danger); color: #fff; border: none; font-size: 10px; line-height: 1; cursor: pointer; display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.15s; padding: 0; }
.emoji-pack-row { display: flex; align-items: center; gap: 10px; padding: 8px 10px; border-radius: var(--c-radius-sm); cursor: pointer; transition: background 0.12s; margin-bottom: 1px; }
.emoji-pack-row:hover { background: var(--c-surface-hover); }
.emoji-pack-row.active { background: var(--c-accent-soft); }
.emoji-pack-info { flex: 1; min-width: 0; }
.emoji-pack-info .item-name { font-size: 13px; font-weight: 600; }
.emoji-pack-info .item-sub { font-size: 11px; color: var(--c-text-3); }
.emoji-pack-actions { display: flex; gap: 4px; flex-shrink: 0; }
.settings-list { padding: 8px; }
.settings-section { background: var(--c-bg); border-radius: var(--c-radius); margin-bottom: 8px; overflow: hidden; border: 1px solid var(--c-border-light); }
.settings-item { display: flex; justify-content: space-between; align-items: center; padding: 11px 14px; cursor: pointer; font-size: 14px; transition: background 0.12s; }
.settings-item:hover { background: var(--c-surface-hover); }
.settings-item + .settings-item { border-top: 1px solid var(--c-border-light); }
.settings-item.danger { color: var(--c-danger); }
.arrow { color: var(--c-text-4); font-size: 18px; }
.resize-handle { position: absolute; top: 0; right: 0; width: 3px; height: 100%; cursor: col-resize; z-index: 10; }
.resize-handle:hover { background: var(--c-accent-soft); }
.main-area { flex: 1; display: flex; flex-direction: column; overflow: hidden; background: var(--c-bg); position: relative; }
.chat-header { display: flex; align-items: center; justify-content: space-between; padding: 12px 20px; border-bottom: 1px solid var(--c-border); flex-shrink: 0; }
.chat-header-left { display: flex; align-items: center; gap: 8px; }
.chat-header-left h3 { margin: 0; font-size: 15px; font-weight: 700; }
.chat-header-right { display: flex; gap: 4px; }
.icon-btn { width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border: none; border-radius: 6px; background: transparent; color: var(--c-text-3); cursor: pointer; font-size: 14px; }
.icon-btn:hover { background: var(--c-surface-hover); color: var(--c-text); }
.icon-btn svg { width: 18px; height: 18px; }
.messages-area { flex: 1; overflow-y: auto; padding: 16px 20px; display: flex; flex-direction: column; gap: 8px; }
.msg-row { display: flex; gap: 8px; align-items: flex-end; max-width: 72%; }
.msg-row.self { margin-left: auto; flex-direction: row-reverse; }
.msg-row.contact { margin-right: auto; }
.msg-avatar { width: 30px; height: 30px; border-radius: 8px; overflow: hidden; flex-shrink: 0; }
.msg-avatar img { width: 100%; height: 100%; object-fit: cover; }
.msg-bubble { padding: 8px 12px; border-radius: 12px; max-width: 100%; word-break: break-word; }
.msg-row.contact .msg-bubble { background: var(--c-bg-mute); border-bottom-left-radius: 4px; }
.msg-row.self .msg-bubble { background: var(--c-accent); color: #fff; border-bottom-right-radius: 4px; }
.msg-text { font-size: 14px; line-height: 1.5; }
.msg-image img { max-width: 220px; border-radius: 8px; display: block; }
.msg-meta { display: flex; align-items: center; gap: 4px; margin-top: 3px; }
.msg-meta span { font-size: 10px; opacity: 0.6; }
.msg-meta .sending { color: var(--c-text-4); }
.msg-meta .failed { color: var(--c-danger); opacity: 1; }
.input-area { display: flex; align-items: center; gap: 8px; padding: 10px 20px; border-top: 1px solid var(--c-border); flex-shrink: 0; }
.file-btn { width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 6px; background: var(--c-bg-mute); color: var(--c-text-3); cursor: pointer; }
.file-btn:hover { color: var(--c-accent); }
.file-btn svg { width: 16px; height: 16px; }
.emoji-toggle { border: none; background: var(--c-bg-mute); width: 32px; height: 32px; border-radius: 6px; cursor: pointer; font-size: 16px; display: flex; align-items: center; justify-content: center; }
.msg-input { flex: 1; padding: 8px 14px; border-radius: var(--c-radius-sm); border: 1px solid var(--c-border); background: var(--c-bg); color: var(--c-text); font-size: 14px; outline: none; }
.msg-input:focus { border-color: var(--c-accent); }
.msg-input::placeholder { color: var(--c-text-4); }
.send-btn { padding: 8px 16px; border: none; border-radius: var(--c-radius-sm); background: var(--c-accent); color: #fff; font-size: 13px; font-weight: 600; cursor: pointer; }
.send-btn:disabled { opacity: 0.4; cursor: not-allowed; }
.send-btn:hover:not(:disabled) { background: var(--c-accent-hover); }
.emoji-picker { position: absolute; bottom: 56px; left: 20px; width: 360px; max-height: 300px; background: var(--c-surface); border: 1px solid var(--c-border); border-radius: var(--c-radius); box-shadow: var(--c-shadow-lg); z-index: 100; overflow: hidden; display: flex; flex-direction: column; }
.emoji-pack-bar { display: flex; gap: 2px; padding: 6px; border-bottom: 1px solid var(--c-border-light); overflow-x: auto; flex-shrink: 0; }
.emoji-pack-btn { width: 28px; height: 28px; border: 1px solid var(--c-border); border-radius: 4px; background: var(--c-bg); cursor: pointer; display: flex; align-items: center; justify-content: center; flex-shrink: 0; overflow: hidden; font-size: 12px; }
.emoji-pack-btn.active { border-color: var(--c-accent); background: var(--c-accent-soft); }
.emoji-pack-btn img { width: 20px; height: 20px; object-fit: contain; }
.emoji-picker-grid { flex: 1; overflow-y: auto; display: flex; flex-wrap: wrap; gap: 2px; padding: 6px; }
.emoji-pick-item { width: 36px; height: 36px; border: none; background: transparent; border-radius: 6px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 20px; }
.emoji-pick-item:hover { background: var(--c-surface-hover); }
.emoji-pick-item img { width: 28px; height: 28px; object-fit: contain; }
.empty-state { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px; }
.empty-icon { font-size: 40px; opacity: 0.3; }
.empty-state h3 { font-size: 16px; font-weight: 600; color: var(--c-text-2); margin: 0; }
.empty-state p { font-size: 13px; color: var(--c-text-3); margin: 0; }
.ctx-menu { position: fixed; z-index: 1000; min-width: 140px; padding: 4px; background: var(--c-surface); border: 1px solid var(--c-border); border-radius: var(--c-radius-sm); box-shadow: var(--c-shadow-lg); list-style: none; }
.ctx-menu li button { width: 100%; padding: 7px 10px; border: none; border-radius: 4px; background: transparent; color: var(--c-text); font-size: 13px; cursor: pointer; text-align: left; }
.ctx-menu li button:hover { background: var(--c-surface-hover); }
.ctx-menu li button.danger { color: var(--c-danger); }
.ctx-menu li button.danger:hover { background: var(--c-danger-soft); }
.notif-toast { position: fixed; top: 16px; right: 16px; z-index: 2000; background: var(--c-surface); border: 1px solid var(--c-border); border-radius: var(--c-radius); padding: 10px 14px; box-shadow: var(--c-shadow-lg); cursor: pointer; display: flex; align-items: center; gap: 8px; max-width: 320px; animation: slideIn 0.2s ease; }
.notif-toast strong { font-size: 13px; }
.notif-toast span { font-size: 13px; color: var(--c-text-3); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.notif-toast button { border: none; background: none; color: var(--c-text-4); cursor: pointer; font-size: 14px; }
@keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; z-index: 1000; padding: 24px; }
.modal-card { width: min(420px, 100%); background: var(--c-surface); border: 1px solid var(--c-border); border-radius: var(--c-radius-lg); padding: 24px; display: grid; gap: 12px; box-shadow: var(--c-shadow-lg); }
.modal-card h3 { font-size: 17px; margin: 0; }
.modal-card input, .modal-card textarea, .modal-card select { width: 100%; padding: 9px 12px; border-radius: var(--c-radius-sm); border: 1px solid var(--c-border); background: var(--c-bg); color: var(--c-text); font-size: 14px; outline: none; font-family: inherit; }
.modal-card input:focus, .modal-card textarea:focus { border-color: var(--c-accent); }
.modal-desc { font-size: 13px; color: var(--c-text-3); margin: 0; }
.modal-desc strong { color: var(--c-accent); }
.modal-fields { display: flex; gap: 8px; }
.code-btn { flex-shrink: 0; padding: 9px 14px; border: none; border-radius: var(--c-radius-sm); background: var(--c-accent); color: #fff; font-size: 13px; font-weight: 600; cursor: pointer; white-space: nowrap; }
.code-btn:disabled { opacity: 0.5; cursor: not-allowed; }
.modal-actions { display: flex; justify-content: flex-end; gap: 8px; margin-top: 4px; }
.btn-ghost { padding: 8px 18px; border: 1px solid var(--c-border); border-radius: var(--c-radius-sm); background: var(--c-bg); color: var(--c-text-2); font-size: 13px; cursor: pointer; }
.btn-primary { padding: 8px 18px; border: none; border-radius: var(--c-radius-sm); background: var(--c-accent); color: #fff; font-size: 13px; font-weight: 600; cursor: pointer; }
.btn-primary:disabled { opacity: 0.5; cursor: not-allowed; }
.member-select { max-height: 240px; overflow-y: auto; display: grid; gap: 2px; padding: 6px; border-radius: var(--c-radius-sm); background: var(--c-bg-soft); }
.member-opt { display: flex; align-items: center; gap: 8px; padding: 8px 10px; border-radius: 6px; cursor: pointer; font-size: 14px; line-height: 1.4; }
.member-opt:hover { background: var(--c-surface-hover); }
.member-opt input { accent-color: var(--c-accent); flex-shrink: 0; width: 16px; height: 16px; }
.member-opt span { flex: 1; word-break: break-all; }
.profile-avatar-wrap { display: flex; align-items: center; gap: 12px; }
.profile-avatar { width: 56px; height: 56px; border-radius: 14px; overflow: hidden; }
.profile-avatar img { width: 100%; height: 100%; object-fit: cover; }
.field { display: grid; gap: 4px; }
.field-label { font-size: 13px; font-weight: 500; color: var(--c-text-2); }
.drawer-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.2); z-index: 800; display: flex; justify-content: flex-end; }
.drawer { width: 320px; background: var(--c-surface); border-left: 1px solid var(--c-border); display: flex; flex-direction: column; overflow-y: auto; }
.drawer-header { display: flex; align-items: center; justify-content: space-between; padding: 14px 16px; border-bottom: 1px solid var(--c-border); }
.drawer-header h3 { margin: 0; font-size: 15px; }
.drawer-body { padding: 12px 16px; display: flex; flex-direction: column; gap: 8px; }
.drawer-row { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; font-size: 14px; }
.drawer-section { font-size: 12px; font-weight: 600; color: var(--c-text-4); margin-top: 8px; text-transform: uppercase; }
.drawer-input { padding: 6px 10px; border: 1px solid var(--c-border); border-radius: var(--c-radius-sm); font-size: 13px; outline: none; width: 140px; }
.drawer-input:focus { border-color: var(--c-accent); }
.toggle-btn { padding: 4px 12px; border: 1px solid var(--c-border); border-radius: 4px; font-size: 12px; cursor: pointer; background: var(--c-bg); color: var(--c-text-3); }
.toggle-btn.on { background: var(--c-accent-soft); color: var(--c-accent); border-color: var(--c-accent); }
.drawer-members { display: flex; flex-direction: column; gap: 4px; max-height: 200px; overflow-y: auto; }
.member-item { display: flex; align-items: center; gap: 8px; padding: 4px 0; font-size: 13px; }
.member-item img { width: 28px; height: 28px; border-radius: 6px; object-fit: cover; }
.btn-block { width: 100%; padding: 9px; border: 1px solid var(--c-border); border-radius: var(--c-radius-sm); background: var(--c-bg); color: var(--c-text-2); font-size: 13px; cursor: pointer; margin-top: 4px; }
.btn-block:hover { background: var(--c-surface-hover); }
.btn-block.accent { background: var(--c-accent); color: #fff; border-color: var(--c-accent); }
.btn-block.danger { color: var(--c-danger); border-color: var(--c-danger); }
.btn-block.danger:hover { background: var(--c-danger-soft); }
.feed-preview { display: flex; gap: 4px; flex-wrap: wrap; font-size: 12px; color: var(--c-text-3); }
.feed-detail-panel { flex: 1; overflow-y: auto; padding: 20px; }
.feed-detail-card { max-width: 600px; margin: 0 auto; }
.feed-detail-header { display: flex; align-items: center; gap: 10px; margin-bottom: 16px; }
.feed-detail-header img { width: 40px; height: 40px; border-radius: 10px; object-fit: cover; }
.feed-detail-header .fd-name { font-size: 15px; font-weight: 600; }
.feed-detail-header .fd-time { font-size: 12px; color: var(--c-text-3); }
.feed-detail-content { font-size: 15px; line-height: 1.7; margin-bottom: 16px; }
.feed-detail-images { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 16px; }
.feed-detail-images img { max-width: 200px; max-height: 200px; object-fit: cover; border-radius: 8px; }
.feed-detail-actions { display: flex; gap: 16px; padding: 12px 0; border-top: 1px solid var(--c-border-light); border-bottom: 1px solid var(--c-border-light); margin-bottom: 16px; }
.feed-detail-actions button { border: none; background: none; font-size: 14px; cursor: pointer; color: var(--c-text-3); padding: 4px 0; }
.feed-detail-actions button.liked { color: var(--c-danger); }
.feed-detail-comments { display: flex; flex-direction: column; gap: 8px; }
.feed-detail-comments .section-label { padding: 0 0 6px; }
.fd-comment { display: flex; gap: 8px; padding: 6px 0; border-bottom: 1px solid var(--c-border-light); font-size: 14px; }
.fd-comment strong { flex-shrink: 0; }
.fd-comment-text { flex: 1; }
.fd-comment-meta { display: flex; align-items: center; gap: 8px; font-size: 12px; color: var(--c-text-4); margin-top: 2px; }
.feed-detail-comment-input { display: flex; gap: 8px; margin-top: 12px; }
.feed-detail-comment-input input { flex: 1; padding: 8px 12px; border: 1px solid var(--c-border); border-radius: var(--c-radius-sm); font-size: 14px; outline: none; }
.feed-detail-comment-input input:focus { border-color: var(--c-accent); }

.emoji-mgr-modal { width: min(600px, 100%); max-height: 80vh; overflow-y: auto; }
.emoji-mgr-tabs { display: flex; gap: 8px; margin-top: 8px; }
.emoji-mgr-tab { border: 1px solid var(--c-border); border-radius: var(--c-radius-sm); padding: 7px 16px; font-size: 13px; font-weight: 600; cursor: pointer; background: var(--c-bg); color: var(--c-text-2); transition: all 0.15s; }
.emoji-mgr-tab.active { background: var(--c-accent-soft); color: var(--c-accent); border-color: var(--c-accent); }
.emoji-mgr-search { display: flex; gap: 8px; margin-top: 12px; }
.emoji-mgr-search input { flex: 1; padding: 8px 12px; border: 1px solid var(--c-border); border-radius: var(--c-radius-sm); font-size: 14px; outline: none; background: var(--c-bg); color: var(--c-text); }
.emoji-mgr-search input:focus { border-color: var(--c-accent); }
.emoji-mgr-pack-list { display: flex; flex-direction: column; gap: 6px; margin-top: 12px; max-height: 360px; overflow-y: auto; }
.emoji-mgr-pack-card { display: flex; align-items: center; gap: 10px; padding: 10px 12px; border-radius: var(--c-radius-sm); background: var(--c-bg-soft); cursor: pointer; transition: background 0.12s; }
.emoji-mgr-pack-card:hover { background: var(--c-surface-hover); }
.emoji-mgr-pagination { display: flex; justify-content: center; align-items: center; gap: 10px; margin-top: 10px; padding-top: 8px; border-top: 1px solid var(--c-border-light); }
.emoji-mgr-detail-header { display: flex; align-items: center; gap: 12px; margin-top: 12px; margin-bottom: 8px; }
.emoji-mgr-item-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)); gap: 10px; max-height: 320px; overflow-y: auto; }
.emoji-mgr-item { position: relative; display: flex; flex-direction: column; align-items: center; gap: 6px; padding: 10px 6px; border-radius: var(--c-radius-sm); background: var(--c-bg-soft); }
.emoji-mgr-item-preview { width: 52px; height: 52px; border-radius: 12px; background: var(--c-bg); display: flex; align-items: center; justify-content: center; overflow: hidden; }
.emoji-mgr-item-preview img { width: 100%; height: 100%; object-fit: cover; }
.emoji-mgr-item-name { font-size: 11px; color: var(--c-text-3); text-align: center; width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

.friend-detail-card { width: min(520px, 100%); }
.friend-detail-header { display: flex; gap: 12px; align-items: center; margin: 10px 0 12px; padding: 10px; border: 1px solid var(--c-border-light); background: var(--c-bg-soft); border-radius: var(--c-radius-sm); }
.friend-detail-meta { flex: 1; min-width: 0; display: flex; flex-direction: column; gap: 4px; }
.friend-detail-name { font-size: 15px; font-weight: 700; color: var(--c-text); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.friend-detail-sub { font-size: 12px; color: var(--c-text-3); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.friend-detail-body { display: flex; flex-direction: column; gap: 8px; margin-bottom: 12px; }
.friend-detail-body .kv { display: flex; gap: 10px; font-size: 14px; }
.friend-detail-body .kv .k { width: 74px; color: var(--c-text-3); flex-shrink: 0; }
.search-form { margin-top: 16px; }
.search-input-group { display: flex; gap: 8px; align-items: center; }
.search-input-group input { flex: 1; padding: 10px 14px; border-radius: var(--c-radius-sm); border: 1px solid var(--c-border); background: var(--c-bg); color: var(--c-text); font-size: 14px; outline: none; transition: border-color 0.2s; }
.search-input-group input:focus { border-color: var(--c-accent); }
.search-icon-btn { width: 42px; height: 42px; display: flex; align-items: center; justify-content: center; border: none; border-radius: var(--c-radius-sm); background: var(--c-accent); color: #fff; cursor: pointer; transition: background 0.2s, opacity 0.2s; flex-shrink: 0; }
.search-icon-btn:hover:not(:disabled) { background: var(--c-accent-hover); }
.search-icon-btn:disabled { opacity: 0.6; cursor: not-allowed; }
.loading-spinner-sm { width: 18px; height: 18px; border: 2px solid rgba(255,255,255,0.3); border-top-color: #fff; border-radius: 50%; animation: spin 0.8s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }
.search-error-hint { margin-top: 12px; color: var(--c-danger); font-size: 13px; text-align: center; }
.search-results-list { margin-top: 16px; display: flex; flex-direction: column; gap: 8px; max-height: 240px; overflow-y: auto; }
.search-result-item { display: flex; align-items: center; gap: 12px; padding: 10px 12px; border-radius: var(--c-radius-sm); background: var(--c-bg-soft); cursor: pointer; border: 1px solid transparent; transition: all 0.15s; }
.search-result-item:hover { background: var(--c-surface-hover); }
.search-result-item.active { border-color: var(--c-accent); background: var(--c-accent-soft); }
.search-result-item .user-meta { flex: 1; min-width: 0; }
.search-result-item .user-name { font-size: 14px; font-weight: 600; color: var(--c-text); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.search-result-item .user-sub { font-size: 12px; color: var(--c-text-3); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.search-result-item .arrow { color: var(--c-text-4); font-size: 18px; }
.apply-area { margin-top: 16px; padding-top: 16px; border-top: 1px solid var(--c-border-light); animation: slideDown 0.2s ease-out; }
.apply-form { display: flex; flex-direction: column; gap: 12px; }
.user-info-brief { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; padding: 10px; background: var(--c-bg-soft); border-radius: var(--c-radius-sm); }

@keyframes slideDown {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

.group-detail-card { width: min(560px, 100%); }
.group-info-header { display: flex; gap: 16px; align-items: center; margin: 16px 0; }
.group-meta-main { flex: 1; min-width: 0; }
.group-name-large { font-size: 18px; font-weight: 700; color: var(--c-text); }
.group-id-sub { font-size: 12px; color: var(--c-text-4); margin-top: 4px; }
.group-info-sections { display: flex; flex-direction: column; gap: 16px; margin-bottom: 20px; }
.info-section { display: flex; flex-direction: column; gap: 6px; }
.info-section p { font-size: 14px; color: var(--c-text-2); line-height: 1.5; margin: 0; }
.group-member-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; margin-top: 8px; background: var(--c-bg-soft); padding: 12px; border-radius: var(--c-radius-sm); border: 1px solid var(--c-border-light); }
.member-mini { display: flex; flex-direction: column; align-items: center; gap: 6px; min-width: 0; }
.member-mini img { width: 36px; height: 36px; border-radius: 50%; object-fit: cover; }
.member-mini span { font-size: 11px; color: var(--c-text-3); text-align: center; width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.member-more { display: flex; align-items: center; justify-content: center; font-size: 14px; color: var(--c-text-4); }
